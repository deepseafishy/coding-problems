import sys

rows, cols = map(int, sys.stdin.readline().split())
board = [list(map(int, sys.stdin.readline().split())) for _ in range(rows)]

tet_x = [[0, 0, 0, 0], [0, -1, -2, -3], [0, 0, 0, 0], [0, 1, 2, 3],
         [0, 0, 1, 1], [0, 0, -1, -1], [0, 0, -1, -1], [0, 0, 1, 1],
         [0, 1, 2, 2], [0, 0, 0, -1], [0, -1, -2, -2], [0, 0, 0, 1],
         [0, 1, 2, 2], [0, 0, 0, 1], [0, -1, -2, -2], [0, 0, 0, -1],
         [0, 1, 1, 2], [0, 0, -1, -1], [0, -1, -1, -2], [0, 0, 1, 1],
         [0, 1, 1, 2], [0, 0, 1, 1], [0, -1, -1, -2], [0, 0, -1, -1],
         [0, 0, 0, 1], [0, -1, -2, -1], [0, 0, 0, -1], [0, 1, 2, 1],
         [0, 1, 2, 1], [0, 0, 0, -1], [0, -1, -2, -1], [0, 0, 0, 1]]
tet_y = [[0, 1, 2, 3], [0, 0, 0, 0], [0, -1, -2, -3], [0, 0, 0, 0],
         [0, 1, 0, 1], [0, 1, 0, 1], [0, -1, 0, -1], [0, -1, 0, -1],
         [0, 0, 0, 1], [0, 1, 2, 2], [0, 0, 0, -1], [0, -1, -2, -2],
         [0, 0, 0, -1], [0, 1, 2, 2], [0, 0, 0, 1], [0, -1, -2, -2],
         [0, 0, 1, 1], [0, 1, 1, 2], [0, 0, -1, -1], [0, -1, -1, -2],
         [0, 0, -1, -1], [0, 1, 1, 2], [0, 0, 1, 1], [0, -1, -1, -2],
         [0, 1, 2, 1], [0, 0, 0, 1], [0, -1, -2, -1], [0, 0, 0, -1],
         [0, 0, 0, 1], [0, 1, 2, 1], [0, 0, 0, -1], [0, -1, -2, -1]]

answer = 0

for i in range(rows):
    for j in range(cols):
        for k in range(28):
            try:
                total = board[i + tet_x[k][0]][j + tet_y[k][0]]
                total += board[i + tet_x[k][1]][j + tet_y[k][1]]
                total += board[i + tet_x[k][2]][j + tet_y[k][2]]
                total += board[i + tet_x[k][3]][j + tet_y[k][3]]
            except:
                total = 0

            answer = max(answer, total)

print(answer)

